:root {
  --bg: #efe7d7;
  --card: #fff8eb;
  --ink: #1a2533;
  --muted: #5a6572;
  --line: #d8cfbe;
  --brand: #ef7f3d;
  --brand-deep: #dc6230;
  --accent: #136f63;
  --hit: #19a974;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Sora', sans-serif;
  color: var(--ink);
  background: var(--bg);
}

body.turn-blue {
  background: #cfe3fb;
}

body.turn-green {
  background: #cfeeda;
}

.bg-grid {
  position: fixed;
  inset: 0;
  background-image: linear-gradient(rgba(31, 42, 55, 0.04) 1px, transparent 1px), linear-gradient(90deg, rgba(31, 42, 55, 0.04) 1px, transparent 1px);
  background-size: 28px 28px;
  z-index: -3;
}

body.turn-blue .bg-grid {
  background-image: linear-gradient(rgba(16, 66, 127, 0.22) 1px, transparent 1px), linear-gradient(90deg, rgba(16, 66, 127, 0.22) 1px, transparent 1px);
}

body.turn-green .bg-grid {
  background-image: linear-gradient(rgba(20, 102, 50, 0.22) 1px, transparent 1px), linear-gradient(90deg, rgba(20, 102, 50, 0.22) 1px, transparent 1px);
}

.glow {
  position: fixed;
  width: 320px;
  height: 320px;
  border-radius: 50%;
  filter: blur(34px);
  opacity: 0.35;
  z-index: -2;
}

.glow-a { background: #f8b56a; top: -70px; left: -60px; }
.glow-b { background: #7abdaf; right: -80px; bottom: -80px; }

body.turn-blue .glow-a { background: #4f86c9; }
body.turn-blue .glow-b { background: #2c66ad; }
body.turn-green .glow-a { background: #4daf74; }
body.turn-green .glow-b { background: #2f8f57; }

.shell {
  max-width: 1100px;
  margin: 0 auto;
  padding: 22px 16px 34px;
}

.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 14px;
}

h1 {
  margin: 0;
  font-family: 'Archivo Black', sans-serif;
  letter-spacing: 0.5px;
  font-size: 2rem;
}

.link-home {
  text-decoration: none;
  font-weight: 700;
  color: var(--accent);
}

.flash-wrap { margin-bottom: 12px; }

.flash-item {
  background: #fff3df;
  border: 1px solid #efbe78;
  border-radius: 12px;
  padding: 10px 12px;
}

.card {
  background: linear-gradient(180deg, #fffdf8 0%, var(--card) 100%);
  border: 1px solid var(--line);
  border-radius: 22px;
  padding: 18px;
  box-shadow: 0 16px 36px rgba(22, 33, 47, 0.11);
}

.game-card.turn-blue {
  background: linear-gradient(180deg, #f6fbff 0%, #edf6ff 100%);
  border-color: #b5d6f6;
}

.game-card.turn-green {
  background: linear-gradient(180deg, #f5fff8 0%, #eafaf1 100%);
  border-color: #bfe3cc;
}

.game-card.turn-blue .feedback {
  color: #155a9c;
}

.game-card.turn-green .feedback {
  color: #1d7a3f;
}

.in-game-nav {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 8px;
}

.mega-score {
  border-radius: 18px;
  border: 2px solid var(--line);
  background: #fff;
  padding: 12px 14px;
  margin-bottom: 14px;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 12px;
}

.mega-score .team {
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(1rem, 2vw, 1.35rem);
  text-align: center;
}

.mega-score .team span {
  display: inline-block;
  margin-left: 8px;
  font-size: clamp(1.5rem, 4vw, 2.3rem);
}

.mega-score .vs {
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(1.4rem, 4vw, 2.2rem);
  opacity: 0.7;
}

.mega-score .turn-big {
  grid-column: 1 / -1;
  text-align: center;
  font-weight: 800;
  font-size: clamp(1rem, 2.5vw, 1.3rem);
}

.mega-score.turn-blue {
  border-color: #4d88d3;
  background: linear-gradient(180deg, #eff6ff 0%, #e5f0ff 100%);
  color: #0d3871;
}

.mega-score.turn-green {
  border-color: #4ca56c;
  background: linear-gradient(180deg, #effcf3 0%, #e4f6ea 100%);
  color: #0d5a2b;
}

.config-card h2,
.game-card .prompt {
  margin-top: 0;
}

.grid-form {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px 14px;
  align-items: center;
}

.grid-form input[type="number"] {
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px;
  font: inherit;
  background: #fff;
}

.grid-form input[type="text"],
.grid-form select {
  width: 100%;
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px;
  font: inherit;
  background: #fff;
}

.mode-pills {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
}

.mode-pills label {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 999px;
  padding: 8px 12px;
}

.btn-primary,
.btn-option,
.btn-ghost {
  border: none;
  border-radius: 14px;
  font: inherit;
  font-weight: 800;
  cursor: pointer;
  transition: transform .12s ease, filter .12s ease;
}

.btn-primary {
  padding: 13px 16px;
  color: #fff;
  background: linear-gradient(135deg, var(--brand) 0%, var(--brand-deep) 100%);
}

.btn-primary:hover,
.btn-option:hover,
.btn-ghost:hover {
  transform: translateY(-1px);
  filter: brightness(1.02);
}

.span-2 { grid-column: span 2; }

.hud {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}

.hud div {
  border-radius: 14px;
  border: 1px solid var(--line);
  background: #fff;
  padding: 10px;
}

.hud span {
  display: block;
  color: var(--muted);
  font-size: 0.84rem;
}

.prompt {
  margin: 14px 0 8px;
  font-size: 1.45rem;
}

.feedback {
  margin: 6px 0 14px;
  color: var(--accent);
  font-weight: 700;
}

.flag-wrap,
.country-wrap {
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 14px;
  background: #f3efe4;
  margin-bottom: 16px;
}

.flag-img {
  width: 100%;
  max-height: 380px;
  object-fit: contain;
  display: block;
  background: #ebe5d6;
  border-radius: 10px;
}

.country-chip {
  text-align: center;
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(1.8rem, 5vw, 3rem);
  line-height: 1.1;
  color: #0f2230;
  padding: 18px 8px;
  letter-spacing: 0.5px;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

.options-grid form { margin: 0; }

.btn-option {
  width: 100%;
  min-height: 56px;
  padding: 10px 12px;
  background: linear-gradient(180deg, #f0faf8 0%, #e4f2ef 100%);
  border: 1px solid #b9dad3;
  color: #11362f;
}

.skip-row { margin-top: 14px; }

.btn-ghost {
  padding: 10px 16px;
  border: 1px solid var(--line);
  background: #fff;
  color: var(--muted);
}

.hit-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(3rem, 14vw, 8rem);
  letter-spacing: 2px;
  color: #fff;
  text-shadow: 0 6px 22px rgba(0, 0, 0, 0.35);
  z-index: 50;
  animation: overlayPop 900ms ease forwards;
  pointer-events: none;
}

.hit-overlay.win {
  background: radial-gradient(circle at center, rgba(255, 214, 70, 0.95) 0%, rgba(25, 169, 116, 0.72) 42%, rgba(25, 169, 116, 0.0) 76%);
  color: #fffef6;
  text-shadow: 0 6px 20px rgba(18, 68, 52, 0.55);
  animation: winPop 1600ms ease forwards;
}

.hit-overlay.lose {
  background: radial-gradient(circle at center, rgba(244, 67, 54, 0.92) 0%, rgba(230, 126, 34, 0.62) 45%, rgba(230, 126, 34, 0.0) 76%);
  color: #fff;
  text-shadow: 0 6px 20px rgba(98, 22, 16, 0.6);
  animation: losePop 900ms ease forwards;
}

@keyframes overlayPop {
  0% { opacity: 0; transform: scale(0.7); }
  20% { opacity: 1; transform: scale(1.02); }
  80% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(1.08); }
}

@keyframes winPop {
  0% { opacity: 0; transform: scale(0.65); }
  18% { opacity: 1; transform: scale(1.03); }
  72% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(1.06); }
}

@keyframes losePop {
  0% { opacity: 0; transform: scale(0.86) translateX(0); }
  18% { opacity: 1; transform: scale(1) translateX(-10px); }
  35% { transform: scale(1.02) translateX(10px); }
  50% { transform: scale(1.01) translateX(-8px); }
  65% { transform: scale(1) translateX(6px); }
  100% { opacity: 0; transform: scale(1.03) translateX(0); }
}

.scoreline,
.winner {
  margin: 6px 0;
  font-size: 1.08rem;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin: 14px 0 20px;
}

.stats-grid div {
  border-radius: 12px;
  border: 1px solid var(--line);
  background: #fff;
  padding: 12px;
}

.stats-grid span {
  color: var(--muted);
  display: block;
}

.error-list article {
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 12px;
  align-items: center;
  border-top: 1px dashed var(--line);
  padding: 12px 0;
}

.error-list img,
.mini-country {
  width: 100%;
  min-height: 72px;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: #fff;
}

.error-list img {
  object-fit: contain;
}

.mini-country {
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  text-align: center;
  padding: 8px;
}

.champion-overlay {
  position: fixed;
  inset: 0;
  z-index: 80;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: opacity .35s ease;
}

.champion-overlay.blue {
  background: radial-gradient(circle at center, rgba(53, 120, 210, 0.95) 0%, rgba(22, 61, 112, 0.92) 58%, rgba(10, 28, 54, 0.95) 100%);
}

.champion-overlay.green {
  background: radial-gradient(circle at center, rgba(48, 153, 84, 0.95) 0%, rgba(19, 96, 48, 0.92) 58%, rgba(12, 52, 28, 0.95) 100%);
}

.champion-overlay.draw {
  background: radial-gradient(circle at center, rgba(237, 156, 56, 0.95) 0%, rgba(140, 80, 22, 0.92) 58%, rgba(78, 44, 12, 0.95) 100%);
}

.champion-box {
  text-align: center;
  color: #fff;
  text-shadow: 0 8px 26px rgba(0, 0, 0, 0.35);
  animation: championPop .35s ease;
}

.champion-title {
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(2.6rem, 10vw, 7rem);
  line-height: 1;
}

.champion-sub {
  margin-top: 10px;
  font-size: clamp(1rem, 2.5vw, 1.8rem);
  font-weight: 800;
}

.champion-tip {
  margin-top: 14px;
  font-size: clamp(.9rem, 2vw, 1.15rem);
  opacity: .9;
}

.champion-overlay.dismissed {
  opacity: 0;
  pointer-events: none;
}

@keyframes championPop {
  from { transform: scale(.92); opacity: .1; }
  to { transform: scale(1); opacity: 1; }
}

.muted { color: var(--muted); }

@media (max-width: 900px) {
  .shell { padding: 14px 10px 24px; }
  .card { padding: 14px; }
  .hud { grid-template-columns: 1fr 1fr; }
  .options-grid { grid-template-columns: 1fr 1fr; }
  .stats-grid { grid-template-columns: 1fr 1fr; }
  .mega-score {
    grid-template-columns: 1fr;
    gap: 6px;
    text-align: center;
  }
  .mega-score .vs { display: none; }
  .ttt-card { max-width: 100%; }
  .checkers-board,
  .bs-board { max-width: 100%; }
}

@media (max-width: 640px) {
  .topbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }
  .grid-form {
    grid-template-columns: 1fr;
  }
  .span-2 {
    grid-column: span 1;
  }
  .options-grid {
    grid-template-columns: 1fr;
  }
  .in-game-nav {
    justify-content: space-between;
    align-items: center;
    gap: 8px;
  }
  .mega-score .team span {
    display: block;
    margin-left: 0;
    margin-top: 4px;
  }
  .btn-option {
    min-height: 64px;
    font-size: 1rem;
  }
  .btn-primary,
  .btn-ghost {
    min-height: 46px;
  }
  .grid-form input[type="number"],
  .grid-form input[type="text"],
  .grid-form select {
    font-size: 16px;
  }
}


.ttt-card {
  max-width: 760px;
  margin: 0 auto;
}

.ttt-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.ttt-head h2 {
  margin: 0;
}

.ttt-score {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 12px;
}

.ttt-score div {
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px;
  text-align: center;
  font-weight: 700;
}

.ttt-board {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

.ttt-board form {
  margin: 0;
}

.ttt-cell {
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 14px;
  border: 2px solid #c9d3df;
  background: #f8fbff;
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(2rem, 7vw, 4rem);
  cursor: pointer;
}

.ttt-cell.x {
  color: #1f62ad;
  background: #edf4ff;
  border-color: #8bb5e6;
}

.ttt-cell.o {
  color: #1e8a4a;
  background: #edf9f1;
  border-color: #87d0a4;
}

.ttt-cell:disabled {
  cursor: default;
  opacity: 0.96;
}

.ttt-actions {
  margin-top: 14px;
  display: flex;
  gap: 10px;
}

.ttt-actions form {
  margin: 0;
}

@media (max-width: 640px) {
  .ttt-score {
    grid-template-columns: 1fr;
  }
  .ttt-actions {
    flex-direction: column;
  }
}


.checkers-board {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  gap: 0;
  border: 3px solid #8f7154;
  border-radius: 10px;
  overflow: hidden;
  max-width: 640px;
  margin: 0 auto;
}

.cell-form { margin: 0; }

.ck-cell {
  width: 100%;
  aspect-ratio: 1 / 1;
  border: none;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ck-cell.light {
  background: #f0dbc2;
}

.ck-cell.dark {
  background: #9a6f45;
  cursor: pointer;
}

.ck-cell.dark.legal-from {
  box-shadow: inset 0 0 0 4px rgba(255, 230, 120, 0.55);
}

.ck-cell.dark.legal-target {
  box-shadow: inset 0 0 0 4px rgba(151, 255, 177, 0.60);
}

.ck-cell.dark.selected {
  box-shadow: inset 0 0 0 5px rgba(255, 255, 255, 0.75);
}

.ck-cell:disabled {
  cursor: default;
}

.piece {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 74%;
  height: 74%;
  border-radius: 50%;
  font-size: clamp(1.2rem, 2.9vw, 1.8rem);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
}

.piece.blue {
  background: radial-gradient(circle at 35% 30%, #a8ceff 0%, #2e73c7 70%);
  color: #e8f3ff;
  border: 2px solid #204f89;
}

.piece.green {
  background: radial-gradient(circle at 35% 30%, #aee8c0 0%, #2f9b56 70%);
  color: #edfff1;
  border: 2px solid #22723f;
}

.overlay-submit {
  width: 100%;
  height: 100%;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
}

.overlay-submit .champion-box {
  display: inline-flex;
  flex-direction: column;
}


